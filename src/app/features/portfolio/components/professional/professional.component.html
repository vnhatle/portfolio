<p-panel>
    <ng-template pTemplate="header">
        <div class="flex align-items-center gap-2">
            <span class="font-bold">
                Work Experience
            </span>
        </div>
    </ng-template>
    <p-timeline [value]="events" align="alternate" styleClass="customized-timeline">
        <ng-template pTemplate="marker" let-event>
            <span
                class="flex w-2rem h-2rem align-items-center justify-content-center text-white border-circle z-1 shadow-1"
                [style]="{ 'background-color': event.color }">
                <img *ngIf="event.index !== 3" alt="company icon" [src]="event.icon" width="50" height="50">
                <svg *ngIf="event.index === 3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"
                    id="calendar-small" aria-hidden="true" role="none" data-supported-dps="48x48" width="48"
                    height="48">
                    <path fill="#f8c77e" d="M48 12v35H0V12h48z" />
                    <path d="M48 5.33V12H0V5.33A3.23 3.23 0 013.1 2h41.8A3.23 3.23 0 0148 5.33z" fill="#788fa5" />
                    <path
                        d="M38 14c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1s1 .45 1 1v12c0 .55-.45 1-1 1zM10 14c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1s1 .45 1 1v12c0 .55-.45 1-1 1z"
                        fill="#dde7f1" />
                    <rect x="39" y="19" width="6" height="6" rx="1.2" ry="1.2" fill="#fff" />
                    <rect x="30" y="19" width="6" height="6" rx="1.2" ry="1.2" fill="#56687a" />
                    <rect x="21" y="19" width="6" height="6" rx="1.2" ry="1.2" fill="#fff" />
                    <rect x="12" y="19" width="6" height="6" rx="1.2" ry="1.2" fill="#fff" />
                    <rect x="3" y="19" width="6" height="6" rx="1.2" ry="1.2" fill="#fff" />
                    <rect x="39" y="28" width="6" height="6" rx="1.29" ry="1.29" fill="#fff" />
                    <rect x="30" y="28" width="6" height="6" rx="1.29" ry="1.29" fill="#fff" />
                    <rect x="21" y="28" width="6" height="6" rx="1.29" ry="1.29" fill="#fff" />
                    <rect x="12" y="28" width="6" height="6" rx="1.29" ry="1.29" fill="#56687a" />
                    <rect x="3" y="28" width="6" height="6" rx="1.29" ry="1.29" fill="#fff" />
                    <rect x="39" y="37" width="6" height="6" rx="1.28" ry="1.28" fill="#fff" />
                    <rect x="30" y="37" width="6" height="6" rx="1.28" ry="1.28" fill="#fff" />
                    <rect x="21" y="37" width="6" height="6" rx="1.28" ry="1.28" fill="#fff" />
                    <rect x="12" y="37" width="6" height="6" rx="1.28" ry="1.28" fill="#fff" />
                    <rect x="3" y="37" width="6" height="6" rx="1.28" ry="1.28" fill="#fff" />
                </svg>
            </span>
        </ng-template>
        <ng-template pTemplate="content" let-event>
            <p-card [header]="event.company" [subheader]="event.time">
                <p><b>{{event.jobPosition}}</b></p>
                <p><i>{{event.address}}</i></p>
                <p-divider />
                <p>{{event.shortDescription}}</p>
                <p-button *ngIf="event.description" label="Read more" [text]="true" (onClick)="showMore(event.index)" />
            </p-card>
        </ng-template>
    </p-timeline>
</p-panel>

<p-dialog header="Work Experience Detail" [modal]="true" [(visible)]="isShowMore" [style]="{ width: '50rem' }"
    [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }">
    <p-panel>
        <ng-template pTemplate="header">
            <div class="flex align-items-center gap-2">
                <span class="font-bold">
                    {{selectedEvent.company}}
                </span>
            </div>
        </ng-template>
        <ng-template pTemplate="footer">
            <div class="flex flex-wrap align-items-center justify-content-between gap-3">
                <div class="flex flex-wrap align-items-center gap-2">
                    <div *ngFor="let skill of selectedEvent.skills">
                        <p-tag [value]="skill" severity="info" />
                    </div>
                </div>
            </div>
        </ng-template>
        <p class="m-0" [innerHTML]="selectedEvent.description"></p>
    </p-panel>
</p-dialog>